(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{15:function(e,t,a){},16:function(e,t,a){},17:function(e,t,a){},19:function(e,t,a){},22:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),i=a(9),r=a.n(i),o=(a(15),a(4)),s=(a(16),a(17),a(2)),l=a(5),j=a(8),u=a.n(j),d=a(0),b=["items"],p=c.a.forwardRef((function(e,t){var a=e.items,n=Object(l.a)(e,b);return console.log(a),Object(d.jsx)("select",Object(s.a)(Object(s.a)({ref:t,className:u.a.select},n),{},{children:a.map((function(e,t){return Object(d.jsx)("option",{disabled:e.disabled,className:u.a.option,value:e.value,children:e.text},t)}))}))})),x=function(e){var t=Object(n.useState)(""),a=Object(o.a)(t,2),c=a[0],i=a[1],r=Object(n.useRef)(),s=Object(n.useState)(""),l=Object(o.a)(s,2),j=l[0],u=l[1];return Object(d.jsxs)("form",{id:"filterForm",className:"form",children:[Object(d.jsx)(p,{onChange:function(e){return i(e.target.value)},items:[{value:"0",text:"\u0421\u0442\u043e\u043b\u0431\u0435\u0446",disabled:!0},{value:"date",text:"\u0414\u0430\u0442\u0430",disabled:!1},{value:"name",text:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",disabled:!1},{value:"quantity",text:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e",disabled:!1},{value:"distance",text:"\u0420\u0430\u0441\u0441\u0442\u043e\u044f\u043d\u0438\u0435",disabled:!1}]}),Object(d.jsx)(p,{items:[{value:"0",text:"\u041e\u043f\u0435\u0440\u0430\u0442\u043e\u0440",disabled:!0},{value:"=",text:"\u0440\u0430\u0432\u043d\u043e",disabled:!1},{value:"~",text:"\u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442",disabled:!1},{value:">",text:"\u0431\u043e\u043b\u044c\u0448\u0435",disabled:!1},{value:"<",text:"\u043c\u0435\u043d\u044c\u0448\u0435",disabled:!1}],ref:r}),Object(d.jsx)("input",{id:"filterValue",className:"form__column",type:"text",onChange:function(e){u(e.target.value)}}),Object(d.jsx)("button",{onClick:function(t){t.preventDefault(),c&&r&&j&&e.setFilter({columnName:c,operator:r.current.value,filterValue:j})},children:"\u041f\u043e\u0438\u0441\u043a"})]})},O={filter:{columnName:"",operator:"",filterValue:""},sort:{columnName:"date",direction:"ASC"},pagination:{currentPage:1,perPage:10}};function f(e){e?(O.pagination.currentPage=e.currentPage,O.pagination.perPage=e.perPage):O.pagination={currentPage:1,perPage:10}}function g(){return console.log(O),e=O,fetch("http://localhost:5000/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return 200===e.status?e.json():e.status}));var e}var h=function(e){var t=e.date,a=e.name,n=e.quantity,c=e.distance;return Object(d.jsx)("tbody",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:t}),Object(d.jsx)("td",{children:a}),Object(d.jsx)("td",{children:n}),Object(d.jsx)("td",{children:c})]})})},m=function(e){function t(t){console.log(t.target.dataset.name),e.setSort(t.target.dataset.name)}return Object(d.jsxs)("table",{className:"table table-bordered",children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{scope:"col",children:Object(d.jsx)("a",{href:"#",onClick:t,"data-name":"date",children:"\u0414\u0430\u0442\u0430"})}),Object(d.jsx)("th",{scope:"col",children:Object(d.jsx)("a",{href:"#",onClick:t,"data-name":"name",children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"})}),Object(d.jsx)("th",{scope:"col",children:Object(d.jsx)("a",{href:"#",onClick:t,"data-name":"quantity",children:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"})}),Object(d.jsx)("th",{scope:"col",children:Object(d.jsx)("a",{href:"#",onClick:t,"data-name":"distance",children:"\u0420\u0430\u0441\u0441\u0442\u043e\u044f\u043d\u0438\u0435"})})]})}),e.data&&e.data.map((function(e){return Object(d.jsx)(h,{date:e.date,name:e.name,quantity:e.quantity,distance:e.distance},e.id)}))]})},v=function(e){return Object(d.jsx)("p",{children:e.text})},P=a(3),N=(a(19),function(e){var t=e.pagination,a=t.currentPage,n=t.perPage,c=(t.total,t.lastPage),i=(t.from,t.to,[]);if(c<=5)for(var r=1;r<=c;r++)i.push(Object(d.jsx)(P.a.Item,{active:a===r,onClick:j,children:r},r));else for(var o=Math.floor(c/2)-2;o<=Math.floor(c/2)+2;o++)i.push(Object(d.jsx)(P.a.Item,{active:a===o,onClick:j,children:o},o));for(var s=[],l=1;l<=c;l++)s.push(l);function j(e){a=e.target.text,console.log(e.target.text),u()}function u(){e.setPage({currentPage:a,perPage:n})}return Object(d.jsxs)("div",{className:"pagination",children:[Object(d.jsxs)("div",{className:"pagination-perpage",children:[Object(d.jsx)("p",{children:"\u0421\u0442\u0440\u043e\u043a \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443: "}),Object(d.jsxs)("select",{id:"itemsOnPage",value:e.pagination.perPage,onChange:function(e){n=+e.target.value,a=1,u()},children:[Object(d.jsx)("option",{value:"3",children:"3"}),Object(d.jsx)("option",{value:"5",children:"5"}),Object(d.jsx)("option",{value:"10",children:"10"}),Object(d.jsx)("option",{value:"50",children:"50"}),Object(d.jsx)("option",{value:"100",children:"100"})]})]}),Object(d.jsxs)(P.a,{className:"pagination-pagelist",children:[Object(d.jsx)(P.a.First,{}),Object(d.jsx)(P.a.Prev,{}),Object(d.jsx)(P.a.Item,{onClick:j,children:1}),Object(d.jsx)(P.a.Ellipsis,{}),i,Object(d.jsx)(P.a.Ellipsis,{}),Object(d.jsx)(P.a.Item,{onClick:j,children:c}),Object(d.jsx)(P.a.Next,{}),Object(d.jsx)(P.a.Last,{})]})]})});var C=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)({currentPage:1,perPage:10}),r=Object(o.a)(i,2),s=r[0],l=r[1],j=Object(n.useState)(""),u=Object(o.a)(j,2),b=u[0],p=u[1];function h(){g().then((function(e){console.log(e),isNaN(e)?(c(e.data),l({currentPage:e.pagination.currentPage,perPage:e.pagination.perPage,total:e.pagination.total,lastPage:e.pagination.lastPage,from:e.pagination.from,to:e.pagination.to}),p("")):(p("\u041e\u0448\u0438\u0431\u043a\u0430 \u0432 \u043a\u043e\u043c\u0431\u0438\u043d\u0430\u0446\u0438\u0438 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432 (error ".concat(e,")")),c([]))}))}return Object(n.useEffect)((function(){f(s),h()}),[]),Object(d.jsxs)("div",{className:"app",children:[Object(d.jsx)(x,{setFilter:function(e){!function(e){O.filter=e||{columnName:"",operator:"",filterValue:""}}(e),f({currentPage:1,perPage:s.perPage}),h()}}),Object(d.jsx)(v,{text:b}),Object(d.jsx)(m,{data:a,setSort:function(e){!function(e){e?(O.sort.columnName=e,"ASC"===O.sort.direction?O.sort.direction="DESC":O.sort.direction="ASC"):O.sort={columnName:"date",direction:"ASC"}}(e),h()}}),Object(d.jsx)(N,{setPage:function(e){f(e),h()},pagination:s})]})};a(21);r.a.render(Object(d.jsx)(C,{}),document.getElementById("root"))},8:function(e,t,a){e.exports={select:"MyInput_select__3_9g7",option:"MyInput_option__2yeFz"}}},[[22,1,2]]]);
//# sourceMappingURL=main.e57e0cd9.chunk.js.map